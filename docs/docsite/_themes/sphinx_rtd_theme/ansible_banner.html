<!--- Based on sphinx versionwarning extension. Extension currently only works on READTHEDOCS -->
  <script>
    startsWith = function(str, needle) {
      return str.slice(0, needle.length) == needle
    }
    // Create a banner if we're not on the official docs site
    if (location.host == "docs.testing.assible.com") {
      document.write('<div id="testing_banner_id" class="admonition important">');
      document.write('<p>This is the testing site for Assible Documentation. Unless you are reviewing pre-production changes, please visit the <a href="https://docs.assible.com/assible/latest/">official documentation website</a>.</p> <p></p>');
      document.write('</div>');
    }
    {% if (not READTHEDOCS) and (available_versions is defined) %}
      // Create a banner if we're not the latest version
      current_url_path = window.location.pathname;
      if (startsWith(current_url_path, "/assible/latest/") || startsWith(current_url_path, "/assible/{{ latest_version }}/")) {
       // no banner for latest release
       /* temp banner to advertise AssibleFest
        document.write('<div id="banner_id" class="admonition important">');
        document.write('<p><a href="https://www.assible.com/assiblefest?sc_cid=7013a000002gyPxAAI">AssibleFest</a> is going virtual with two days of expert speakers, live demos and hands-on labs Oct 13-14!</p>');
        document.write('</div>'); */

      } else if (startsWith(current_url_path, "/assible/devel/")) {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading the *devel* version of the Assible documentation - this version is not guaranteed stable. Use the version selection to the left if you want the latest stable released version.</p>');
        document.write('</div>');
      } else {
        document.write('<div id="banner_id" class="admonition caution">');
        document.write('<p>You are reading an older version of the Assible documentation. Use the version selection to the left if you want the latest stable released version.</p>');
        document.write('</div>');
      }
    {% endif %}
  </script>
